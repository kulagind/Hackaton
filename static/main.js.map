{"version":3,"sources":["./$_lazy_route_resources|lazy|groupOptions: {}|namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/graphics/classes/bootstrap-decorator.class.ts","./src/app/graphics/classes/complex-shape-renderer.class.ts","./src/app/graphics/classes/component-behavior-decorator.class.ts","./src/app/graphics/classes/dynamic-components-factory.class.ts","./src/app/graphics/classes/view-drag.class.ts","./src/app/graphics/classes/view-scope.class.ts","./src/app/graphics/classes/view-zoom.class.ts","./src/app/graphics/components/board/board.component.ts","./src/app/graphics/components/board/board.component.html","./src/app/graphics/components/controls/controls.component.ts","./src/app/graphics/components/controls/controls.component.html","./src/app/graphics/components/cursor/cursor.component.ts","./src/app/graphics/components/cursor/cursor.component.html","./src/app/graphics/components/form-fields/form-fields.component.ts","./src/app/graphics/components/form-fields/form-fields.component.html","./src/app/graphics/components/graphic-component-container-content/graphic-component-container-content.component.ts","./src/app/graphics/components/graphic-component-container-content/graphic-component-container-content.component.html","./src/app/graphics/components/graphic-component-container-description/graphic-component-container-description.component.ts","./src/app/graphics/components/graphic-component-container-description/graphic-component-container-description.component.html","./src/app/graphics/components/graphic-component-container-name/graphic-component-container-name.component.ts","./src/app/graphics/components/graphic-component-container-name/graphic-component-container-name.component.html","./src/app/graphics/components/graphic-component-container/graphic-component-container.component.ts","./src/app/graphics/components/graphic-component-container/graphic-component-container.component.html","./src/app/graphics/components/graphic-element-container/graphic-element-container.component.ts","./src/app/graphics/components/graphic-element-container/graphic-element-container.component.html","./src/app/graphics/components/platform/components/desktop-platform/desktop-platform.component.ts","./src/app/graphics/components/platform/components/desktop-platform/desktop-platform.component.html","./src/app/graphics/components/platform/components/mobile-platform/mobile-platform.component.ts","./src/app/graphics/components/platform/components/mobile-platform/mobile-platform.component.html","./src/app/graphics/components/platform/platform.component.ts","./src/app/graphics/components/platform/platform.component.html","./src/app/graphics/components/sidebar/sidebar.component.ts","./src/app/graphics/components/sidebar/sidebar.component.html","./src/app/graphics/components/toolbar/toolbar.component.ts","./src/app/graphics/components/toolbar/toolbar.component.html","./src/app/graphics/functions/default-complex-shape-render-options.factory.ts","./src/app/graphics/functions/default-graphic-components-properties.factory.ts","./src/app/graphics/functions/transform.fuction.ts","./src/app/graphics/graphics.module.ts","./src/app/graphics/services/complex-shape-renderer.service.ts","./src/app/graphics/services/components-data.service.ts","./src/app/graphics/services/cursors.service.ts","./src/app/graphics/services/local-storage.service.ts","./src/app/graphics/services/scope-sharer.service.ts","./src/app/graphics/services/snapshot-observer.service.ts","./src/app/projects/components/project/project.component.ts","./src/app/projects/components/project/project.component.html","./src/app/projects/components/projects/projects.component.ts","./src/app/projects/components/projects/projects.component.html","./src/app/projects/projects.module.ts","./src/app/shared/components/badge/badge.component.ts","./src/app/shared/components/badge/badge.component.html","./src/app/shared/modules/buttons/buttons.module.ts","./src/app/shared/modules/buttons/components/button/button.component.ts","./src/app/shared/modules/buttons/components/button/button.component.html","./src/app/shared/modules/buttons/directives/button.directive.ts","./src/app/shared/modules/chips/chips.module.ts","./src/app/shared/modules/chips/components/chip/chip.component.ts","./src/app/shared/modules/chips/components/chip/chip.component.html","./src/app/shared/modules/chips/components/chips-container/chips-container.component.ts","./src/app/shared/modules/chips/components/chips-container/chips-container.component.html","./src/app/shared/modules/controls/components/checkbox/checkbox.component.ts","./src/app/shared/modules/controls/components/checkbox/checkbox.component.html","./src/app/shared/modules/controls/components/chips/chips.component.ts","./src/app/shared/modules/controls/components/chips/chips.component.html","./src/app/shared/modules/controls/components/input/input.component.ts","./src/app/shared/modules/controls/components/input/input.component.html","./src/app/shared/modules/controls/components/slider/slider.component.ts","./src/app/shared/modules/controls/components/slider/slider.component.html","./src/app/shared/modules/controls/components/toggle/toggle.component.ts","./src/app/shared/modules/controls/components/toggle/toggle.component.html","./src/app/shared/modules/controls/controls.module.ts","./src/app/shared/modules/header/components/header-content/header-content.component.ts","./src/app/shared/modules/header/components/header-content/header-content.component.html","./src/app/shared/modules/header/components/header/header.component.ts","./src/app/shared/modules/header/components/header/header.component.html","./src/app/shared/modules/header/header.module.ts","./src/app/shared/modules/websocket/config.ts","./src/app/shared/modules/websocket/events.ts","./src/app/shared/modules/websocket/websocket.module.ts","./src/app/shared/modules/websocket/websocket.service.ts","./src/app/shared/services/auth.service.ts","./src/app/shared/services/project-http.service.ts","./src/app/shared/shared.module.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 8255;\nmodule.exports = webpackEmptyAsyncContext;","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { BoardComponent } from './graphics/components/board/board.component';\nimport { ProjectsComponent } from './projects/components/projects/projects.component';\n\nconst routes: Routes = [\n  { path: 'board', component: BoardComponent },\n  { path: 'projects', component: ProjectsComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  title = 'Design';\n}\n","<div class=\"container\">\n  <app-header class=\"container-header\">\n    <app-header-content>Дизайн</app-header-content>\n  </app-header>\n  <router-outlet></router-outlet>\n</div>\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { ControlsModule } from './shared/modules/controls/controls.module';\nimport { GraphicsModule } from './graphics/graphics.module';\nimport { HeaderModule } from './shared/modules/header/header.module';\nimport { WebsocketModule } from './shared/modules/websocket/websocket.module';\nimport { CursorsService } from './graphics/services/cursors.service';\nimport { environment } from 'src/environments/environment';\nimport {MatIconModule} from '@angular/material/icon';\nimport { ProjectsModule } from './projects/projects.module';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    ProjectsModule,\n    GraphicsModule,\n    BrowserModule,\n    AppRoutingModule,\n    ControlsModule,\n    HeaderModule,\n    WebsocketModule.config({\n      url: environment.ws\n    }),\n    MatIconModule,\n  ],\n  providers: [\n    CursorsService\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","import { Container } from '../types/container.type';\nimport { namespace } from './complex-shape-renderer.class';\n\nexport class BootstrapDecorator {\n  constructor(private readonly target: Container) {\n  }\n\n  public decorateContainer()  {\n\n  }\n\n  public getColumn(): SVGRectElement {\n\n    const rect: SVGRectElement = document.createElementNS(namespace, 'rect');\n\n    return document.createElementNS(namespace, 'rect')\n  }\n}\n","import { Type } from '@angular/core';\nimport { DynamicComponentsFactory } from './dynamic-components-factory.class';\nimport { ComplexShapeRenderOptions } from '../types/complex-shape-rendere-options.type';\nimport { Container } from '../types/container.type';\nimport { ComponentBehaviorDecorator } from './component-behavior-decorator.class';\nimport { BootstrapDecorator } from './bootstrap-decorator.class';\nimport { GraphicElementProperties } from '../types/graphic-element-properties.type';\nimport { Dictionary } from '../services/components-data.service';\nimport { ToggleComponent } from '../../shared/modules/controls/components/toggle/toggle.component';\nimport { DesktopPlatformComponent } from '../components/platform/components/desktop-platform/desktop-platform.component';\nimport { MobilePlatformComponent } from '../components/platform/components/mobile-platform/mobile-platform.component';\nimport { ButtonComponent } from '../../shared/modules/buttons/components/button/button.component';\nimport { InputComponent } from '../../shared/modules/controls/components/input/input.component';\n\nexport const namespace = 'http://www.w3.org/2000/svg';\n\nexport class ComplexShapeRenderer {\n\n  constructor(private readonly container: NonNullable<Readonly<SVGSVGElement>>,\n              private readonly dynamicComponentFactory: DynamicComponentsFactory) {\n  }\n\n  public appendDynamicComponentToContainer<T = any>\n  (type: Type<Readonly<any>>, options?: ComplexShapeRenderOptions) {\n\n    const compiledComponentWithMetaData = this.dynamicComponentFactory.getComponentFromAngularFactory(type);\n    const container = this.dynamicComponentFactory.getContentContainer();\n    const { component } = compiledComponentWithMetaData;\n\n    const properties = { ...options };\n\n    new DynamicComponentContainerDecorator(container, this.container)\n      .decorateDynamicComponentContainer(properties)\n      .append(component);\n\n    this.container.append(container)\n  }\n\n}\n\n\nexport class DynamicComponentContainerDecorator {\n\n  private readonly componentBehaviorDecorator: NonNullable<ComponentBehaviorDecorator>\n    = new ComponentBehaviorDecorator(this.target, this.overlay);\n\n  private readonly bootstrapDecorator: NonNullable<BootstrapDecorator>\n    = new BootstrapDecorator(this.target);\n\n  constructor(private readonly target: Container, private readonly overlay: SVGSVGElement) {\n    this.componentBehaviorDecorator.decorateComponentContainer();\n  }\n\n  public decorateDynamicComponentContainer(options: ComplexShapeRenderOptions): Container {\n    this.target.setAttribute('x', options.x.toString());\n    this.target.setAttribute('y', options.y.toString());\n    this.target.setAttribute('width', options.property.width.toString());\n    this.target.setAttribute('height', options.property.height.toString());\n    this.target.setAttribute('type', options.type);\n\n\n    this.target.classList.add('ui-element-container');\n\n    this.bootstrapDecorator.decorateContainer();\n\n    return this.target;\n  }\n}\n\nexport function componentPropertiesFactory(component: HTMLElement): { property: GraphicElementProperties } {\n  const bounding = component.getBoundingClientRect();\n  const { width, height } = bounding;\n\n  return { property: { width, height } };\n}\n\nexport const types: Dictionary<any> = {\n  'toggle': ToggleComponent,\n  'desktop': DesktopPlatformComponent,\n  'mobile': MobilePlatformComponent,\n  'button': ButtonComponent,\n  'input': InputComponent,\n}\n","import { Container } from '../types/container.type';\nimport { filter, map, switchMap, takeUntil, tap } from 'rxjs/operators';\nimport { fromEvent } from 'rxjs';\nimport { keys, Position } from './view-drag.class';\nimport { transform } from '../functions/transform.fuction';\nimport { globalOptions } from '../components/toolbar/toolbar.component';\n\nexport class ComponentBehaviorDecorator {\n  constructor(private readonly target: Container, private readonly overlay: SVGSVGElement, private readonly source?: HTMLElement) {\n  }\n\n  public decorateComponentContainer(): Readonly<Container> {\n    new ComponentDragSource(this.target, this.overlay).drag$\n      .pipe(\n        tap(position => {\n          this.target.setAttribute('x', (position.x).toString());\n          this.target.setAttribute('y', (position.y).toString());\n        })\n      )\n      .subscribe()\n\n    return this.target;\n  }\n}\n\nexport class ComponentDragSource {\n\n  public readonly type = this.target.getAttribute('type');\n\n  public readonly move$ = fromEvent<MouseEvent>(window, 'mousemove');\n  public readonly drag$ = fromEvent<MouseEvent>(this.target, 'mousedown')\n    .pipe(\n      filter(down => !keys.includes(down.which)),\n      switchMap(down => {\n        const position = positionFactory(down.clientX, down.clientY);\n        const shift = shiftFactory(down.target as HTMLElement, position);\n        return this.move$.pipe(\n          map(move => {\n            const transferred: Position = {\n              x: Math.ceil(move.clientX - shift.x),\n              y: Math.ceil(move.clientY - shift.y)\n            };\n\n            const positionWithBootstrap = {\n              x: bootstrap(transferred.x, 8),\n              y: bootstrap(transferred.y, 16),\n            }\n\n            const type = this.target.getAttribute('type');\n            const isPlatform = type === 'mobile' || type === 'desktop';\n\n            return transform(isPlatform || !globalOptions.bootstrap ? transferred : positionWithBootstrap)(this.global);\n          }),\n          takeUntil(fromEvent(window, 'mouseup'))\n        )\n      })\n    );\n\n  constructor(private readonly target: Container, private readonly global: SVGSVGElement) {\n  }\n}\n\nexport function shiftFactory(\n  target: HTMLElement,\n  source: NonNullable<Readonly<Position>>\n): Readonly<Position> {\n\n  const { left, top } = target.getBoundingClientRect();\n  const { x, y } = source;\n\n  const shiftX = x - left;\n  const shiftY = y - top;\n\n  return ({ x: shiftX, y: shiftY });\n}\n\nexport function positionFactory(x: number, y: number): NonNullable<Readonly<Position>> {\n  return { x, y };\n}\n\nexport function bootstrap(x: number, bootstrap = 8): number {\n  return x % bootstrap < 3 ? (x % bootstrap === 0 ? x : Math.floor(x / bootstrap) * bootstrap) : Math.ceil(x / bootstrap) * bootstrap\n}\n","import { ComponentFactoryResolver, ComponentRef, EmbeddedViewRef, Type, ViewContainerRef } from '@angular/core';\nimport { Container } from '../types/container.type';\nimport { namespace } from './complex-shape-renderer.class';\nimport { GraphicElementProperties } from '../types/graphic-element-properties.type';\nimport { GraphicComponent } from '../decalarations/graphic-component.type';\nimport { defaultGraphicComponentsPropertiesFactory } from '../functions/default-graphic-components-properties.factory';\n\nexport type CompiledComponentWithMetaData = Readonly<{\n  component: Readonly<HTMLElement>;\n  properties: Readonly<GraphicElementProperties>;\n}>\n\nexport class DynamicComponentsFactory {\n\n  constructor(private readonly angularComponentFactory: ComponentFactoryResolver,\n              private readonly angularComponentContainer: ViewContainerRef) {\n  }\n\n  public getComponentFromAngularFactory<T extends GraphicComponent>(target: Type<Readonly<T>>): CompiledComponentWithMetaData {\n    const component: ComponentRef<T> = this.compileDynamicComponent<T>(target);\n    return {\n      component: this.extractHTMLFromAngularComponentsFactory(component),\n      properties: component.instance.graphicElementProperties ?? defaultGraphicComponentsPropertiesFactory(),\n    };\n  }\n\n  private compileDynamicComponent<T>(component: Type<Readonly<T>>): Readonly<ComponentRef<T>> {\n    const factory = this.angularComponentFactory.resolveComponentFactory(component);\n    return this.angularComponentContainer.createComponent(factory);\n  }\n\n  private extractHTMLFromAngularComponentsFactory<T>(component: ComponentRef<T>): HTMLElement {\n    return (component.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\n  }\n\n  public getContentContainer(): Container {\n    return document.createElementNS(namespace, 'foreignObject');\n  }\n}\n","import { fromEvent, Observable } from 'rxjs';\nimport { filter, map, switchMap, takeUntil, tap } from 'rxjs/operators';\nimport { transform } from '../functions/transform.fuction';\n\nexport type Position = Readonly<{ x: number, y: number }>;\n\nexport class Drag {\n\n  public shift = {\n    shiftX: 0, shiftY: 0\n  }\n\n  public readonly up$: Observable<MouseEvent> =\n    fromEvent<MouseEvent>(window, 'mouseup');\n\n  public readonly drag$: Observable<MouseEvent> =\n    fromEvent<MouseEvent>(window, 'mousemove');\n\n  public readonly down$: Observable<Position> =\n    fromEvent<MouseEvent>(this.target, 'mousedown')\n      .pipe(\n        filter(down => keys.includes(down.which)),\n        tap(down => down.preventDefault()),\n        map(down => {\n\n          const { clientX, clientY } = down;\n          const { left, top } = this.target.getBoundingClientRect();\n\n          const shiftX = clientX - left;\n          const shiftY = clientY - top;\n\n          this.shift = { shiftX, shiftY };\n\n          const position = { x: clientX - shiftX, y: clientY - shiftY };\n\n          return transform(position)(this.target as SVGSVGElement)\n        }),\n      );\n\n  public readonly move$: Observable<Position> =\n    fromEvent<MouseEvent>(this.target, 'mousedown')\n      .pipe(\n        filter(down => keys.includes(down.which)),\n        tap(down => down.preventDefault()),\n        switchMap(_ => this.drag$\n          .pipe(\n            map(move => {\n              const { pageX, pageY } = move;\n              const position = { x: pageX - this.shift.shiftX, y: pageY - this.shift.shiftY };\n              return transform(position)(this.target as SVGSVGElement)\n            }),\n            takeUntil(this.up$),\n          )\n        )\n      );\n\n  constructor(private readonly target: SVGElement) {\n  }\n\n}\n\nexport const keys = [2, 5];\n","import { BehaviorSubject, interval } from 'rxjs';\nimport { finalize, map, takeWhile, tap } from 'rxjs/operators';\nimport { Drag } from './view-drag.class';\nimport { Zoom } from './view-zoom.class';\n\nexport type View = {\n  x: number,\n  y: number,\n  z: number\n}\n\nexport class Scope {\n\n  public readonly view: View = defaultViewFactory();\n  public readonly scope$ = new BehaviorSubject<string>('');\n\n  private initialView: View = { x: 0, y: 0, z: 0 };\n  private readonly drag = new Drag(this.container);\n  private readonly zoom = new Zoom(this.container);\n\n  constructor(private readonly container: SVGElement, defaultViewBox: string = '') {\n    if (defaultViewBox) {\n      this.setViewBox(defaultViewBox);\n    } else {\n      this.initializeContainerScope();\n    }\n    this.subscribeToChangeScope();\n    this.subscribeToScopeDown();\n    this.subscribeToZoom();\n  }\n\n  public setDefaultScale(): void {\n    const updatedZ = this.container.clientWidth;\n    const { x, y, z } = this.view;\n\n    const updatedX = ((z - updatedZ) / 100) * 55 + x;\n    const signZ = (updatedZ - z) / Math.abs(updatedZ - z);\n\n    const view = `${updatedX} ${y} ${updatedZ} ${updatedZ / 100}`;\n\n    this.scope$.next(view);\n    \n    interval(2).pipe(\n      map(value => value * 30),\n      takeWhile(value => value < Math.abs(updatedZ - z)),\n      tap(value => {\n        const tempView = `${x - (((value * signZ) / 100) * 55)} ${y} ${z + value * signZ} ${(z + value * signZ) / 100}`;\n        this.container.setAttribute('viewBox', tempView);\n      }),\n      finalize(() => {\n        this.container.setAttribute('viewBox', view);\n        this.view.x = updatedX;\n        this.view.z = updatedZ;\n      })\n    ).subscribe();\n  }\n\n  private setViewBox(viewBox: string): void {\n    this.scope$.next(viewBox);\n    this.container.setAttribute('viewBox', viewBox);\n  }\n\n  private initializeContainerScope() {\n    this.updateContainerScope();\n  }\n\n  private updateContainerScope() {\n    const { x, y, z } = this.view;\n\n    const view = `${x} ${y} ${z} ${z / 100}`;\n\n    this.scope$.next(view);\n    this.container.setAttribute('viewBox', view);\n  }\n\n  private subscribeToChangeScope() {\n    this.drag.move$\n      .pipe(\n        tap(data => {\n          const { x, y } = data;\n          this.view.x += this.initialView.x - x;\n          this.view.y += this.initialView.y - y;\n        }),\n        tap(_ => this.updateContainerScope())\n      )\n      .subscribe()\n  }\n\n  private subscribeToScopeDown() {\n    this.drag.down$\n      .pipe(\n        tap(data => {\n          // @ts-ignore\n          this.initialView = data;\n        })\n      )\n      .subscribe()\n  }\n\n  private subscribeToZoom() {\n    this.zoom.zoom$\n      .pipe(\n        tap(zoom => {\n          this.view.z += zoom.z;\n          console.log(zoom.z)\n          if (this.view.z <= 0) {\n            return;\n          }\n\n          if (zoom.z > 0) {\n            this.view.x -= 55;\n          }\n\n          if (zoom.z < 0) {\n            this.view.x += 55;\n          }\n\n          this.updateContainerScope();\n        })\n      )\n      .subscribe()\n  }\n\n}\n\nexport function defaultViewFactory(): Readonly<View> {\n  return { x: -1400, y: 0, z: 3400 };\n}\n","import { fromEvent } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nexport class Zoom {\n  public readonly zoom$ = fromEvent<WheelEvent>(this.target, 'wheel')\n    .pipe(\n      map(wheel => {\n        const { deltaY, clientX, clientY } = wheel;\n        return {z: deltaY > 0 ? 100 : -100, x: clientX, y: clientY}\n      })\n    )\n\n  constructor(private readonly target: SVGElement) {}\n}\n","import {\n  AfterViewInit,\n  Component,\n  ComponentFactoryResolver,\n  ElementRef,\n  OnDestroy,\n  ViewChild,\n  ViewContainerRef\n} from '@angular/core';\nimport { Scope } from '../../classes/view-scope.class';\nimport { ComplexShapeRendererService } from '../../services/complex-shape-renderer.service';\nimport { ComponentsDataService } from '../../services/components-data.service';\nimport { SnapshotObserverService } from '../../services/snapshot-observer.service';\nimport { ScopeSharerService } from '../../services/scope-sharer.service';\nimport { types } from '../../classes/complex-shape-renderer.class';\nimport { LocalStorageService } from '../../services/local-storage.service';\nimport { CursorsService } from '../../services/cursors.service';\nimport { ProjectHttpService } from '../../../shared/services/project-http.service';\n\n@Component({\n  selector: 'app-board',\n  templateUrl: './board.component.html',\n  styleUrls: ['./board.component.scss']\n})\nexport class BoardComponent implements AfterViewInit, OnDestroy {\n\n  private scope!: NonNullable<Readonly<Scope>>;\n\n  constructor(\n    private readonly snapshotObserverService: SnapshotObserverService,\n    private readonly componentsDataService: ComponentsDataService,\n    private readonly local: LocalStorageService,\n    private readonly complexShapeRendererService: ComplexShapeRendererService,\n    private readonly factory: ComponentFactoryResolver,\n    private scopeService: ScopeSharerService,\n    public readonly cursorsService: CursorsService\n  ) {\n  }\n\n  @ViewChild('container')\n  private readonly container!: ElementRef<SVGSVGElement>;\n\n  @ViewChild('container', { read: ViewContainerRef })\n  private readonly target!: ViewContainerRef;\n\n  public ngAfterViewInit() {\n    const viewBox = this.scopeService.getScopeParams();\n    this.scope = new Scope(this.container.nativeElement, viewBox);\n    this.scopeService.setScope(this.scope);\n    this.cursorsService.connect(this.container.nativeElement);\n    this.snapshotObserverService\n      .build(this.container.nativeElement);\n\n    this.complexShapeRendererService\n      .buildComponentFactory(this.target)\n      .buildShapeRenderer(this.container.nativeElement)\n\n    this.initialComponentsRender();\n    this.snapshotObserverService.processInfinityObserve();\n\n  }\n\n  ngOnDestroy(): void {\n    this.cursorsService.disconnect();\n  }\n\n  private initialComponentsRender() {\n    const components = this.local.getData();\n    const data = this.componentsDataService.containers;\n\n    if (components) {\n      for (const component of components) {\n        this.complexShapeRendererService.complexShapeRenderer\n          .appendDynamicComponentToContainer(types[component.component] as any, component.options)\n      }\n    }\n  }\n\n}\n","<div class=\"board\">\n\n  <svg #container width=\"70%\" height=\"100vh\" class=\"board-container\">\n\n    <foreignObject *ngFor=\"let owner of cursorsService.cursorOwners$ | async\"\n                    [style.x]=\"(cursorsService.getCursorByName(owner) | async).x\"\n                    [style.y]=\"(cursorsService.getCursorByName(owner) | async).y\"\n                    width=\"500px\"\n                    height=\"150px\">\n      <app-cursor [name]=\"owner\"></app-cursor>\n    </foreignObject>\n  </svg>\n\n  <app-toolbar class=\"toolbar\"></app-toolbar>\n  <app-sidebar class=\"sidebar\"></app-sidebar>\n\n</div>\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { Position } from '../../classes/view-drag.class';\nimport { ComplexShapeRendererService } from '../../services/complex-shape-renderer.service';\nimport { ScopeSharerService } from '../../services/scope-sharer.service';\nimport { CdkDragDrop, CdkDragStart } from '@angular/cdk/drag-drop';\nimport { transform } from '../../functions/transform.fuction';\nimport { ComplexShapeRenderOptions } from '../../types/complex-shape-rendere-options.type';\nimport { InputComponent } from '../../../shared/modules/controls/components/input/input.component';\nimport { ToggleComponent } from '../../../shared/modules/controls/components/toggle/toggle.component';\nimport { ButtonComponent } from '../../../shared/modules/buttons/components/button/button.component';\nimport { bootstrap } from '../../classes/component-behavior-decorator.class';\n\n@Component({\n  selector: 'app-controls',\n  templateUrl: './controls.component.html',\n  styleUrls: ['./controls.component.scss']\n})\nexport class ControlsComponent {\n\n  private pickupPositionInElement: Position;\n\n  @ViewChild('mobile')\n  private readonly mobile: ElementRef<HTMLElement>;\n\n  constructor(\n    private readonly complexShapeRendererService: ComplexShapeRendererService,\n    private readonly scopeService: ScopeSharerService\n  ) {\n  }\n\n  public handleSwitchDrop(event: CdkDragDrop<any>) {\n    const { x, y } = event.dropPoint;\n    const deltaX = x - this.pickupPositionInElement.x;\n    const deltaY = y - this.pickupPositionInElement.y;\n    const position = transform({x: deltaX, y: deltaY})(this.complexShapeRendererService.container);\n\n    const options: ComplexShapeRenderOptions = {\n      x: position.x,\n      y: position.y,\n      type: 'toggle',\n      property: {\n        width: 60,\n        height: 60\n      }\n    }\n\n    this.complexShapeRendererService\n      .complexShapeRenderer\n      .appendDynamicComponentToContainer(ToggleComponent, options);\n  }\n\n  public handleButtonDrop(event: CdkDragDrop<any>) {\n    const { x, y } = event.dropPoint;\n    const deltaX = x - this.pickupPositionInElement.x;\n    const deltaY = y - this.pickupPositionInElement.y;\n    const position = transform({x: bootstrap(deltaX, 8), y: bootstrap(deltaY, 16)})(this.complexShapeRendererService.container);\n\n    const options: ComplexShapeRenderOptions = {\n      x: position.x,\n      y: position.y,\n\n      type: 'button',\n\n      property: {\n        width: 120,\n        height: 48\n      }\n    }\n\n    this.complexShapeRendererService\n      .complexShapeRenderer\n      .appendDynamicComponentToContainer(ButtonComponent, options);\n\n  }\n\n  public handleStartedPoint(event: CdkDragStart<any>, isBackground = false): void {\n    // @ts-ignore\n    this.pickupPositionInElement = event.source._dragRef._pickupPositionInElement;\n    if (!isBackground) {\n      this.scopeService.scope.setDefaultScale();\n    }\n  }\n\n}\n","<div class=\"platform\">\n  <app-graphic-component-container class=\"platform-card\" cdkDropList>\n    <app-graphic-component-container-name>\n      Поле ввода\n    </app-graphic-component-container-name>\n\n    <app-graphic-component-container-content class=\"platform-card-content\">\n      <app-toggle cdkDrag\n                 (cdkDragDropped)=\"handleSwitchDrop($event)\"\n                 (cdkDragStarted)=\"handleStartedPoint($event)\">\n      </app-toggle>\n    </app-graphic-component-container-content>\n\n    <app-graphic-component-container-description>\n      Кнопки использвуются для основных взаимодействий с пользователями\n    </app-graphic-component-container-description>\n  </app-graphic-component-container>\n\n  <app-graphic-component-container class=\"platform-card\" cdkDropList>\n    <app-graphic-component-container-name>\n      Кнопка\n    </app-graphic-component-container-name>\n\n    <app-graphic-component-container-content class=\"platform-card-content\">\n      <app-button cdkDrag\n                 (cdkDragDropped)=\"handleButtonDrop($event)\"\n                 (cdkDragStarted)=\"handleStartedPoint($event)\">Кнопка\n      </app-button>\n    </app-graphic-component-container-content>\n\n    <app-graphic-component-container-description>\n      Кнопки использвуются для основных взаимодействий с пользователями\n    </app-graphic-component-container-description>\n  </app-graphic-component-container>\n\n</div>\n","import { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-cursor',\n  templateUrl: './cursor.component.html',\n  styleUrls: ['./cursor.component.scss']\n})\nexport class CursorComponent implements OnInit {\n\n  @Input() name: string;\n  public color: string = '#7700FF';\n\n  constructor() { }\n\n  ngOnInit(): void {\n    this.color = Math.round(Math.random()) ? '#7700FF' : '#FF4F12';\n  }\n\n}\n","<div class=\"container\">\n  <svg width=\"63\" height=\"59\" viewBox=\"0 0 63 59\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path d=\"M20.3637 1.99995L58.247 30.0982L38.9862 34.2551L26.9118 48.1896L20.3637 1.99995Z\" [style.fill]=\"color\" stroke=\"white\"/>\n  </svg>\n\n  <div class=\"name\" [style.background]=\"color\">{{name || 'Anonymus'}}</div>\n</div>\n\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { Position } from '../../classes/view-drag.class';\nimport { ComplexShapeRendererService } from '../../services/complex-shape-renderer.service';\nimport { ScopeSharerService } from '../../services/scope-sharer.service';\nimport { CdkDragDrop, CdkDragStart } from '@angular/cdk/drag-drop';\nimport { transform } from '../../functions/transform.fuction';\nimport { ComplexShapeRenderOptions } from '../../types/complex-shape-rendere-options.type';\nimport { MobilePlatformComponent } from '../platform/components/mobile-platform/mobile-platform.component';\nimport { DesktopPlatformComponent } from '../platform/components/desktop-platform/desktop-platform.component';\nimport { ToggleComponent } from '../../../shared/modules/controls/components/toggle/toggle.component';\nimport { ButtonComponent } from '../../../shared/modules/buttons/components/button/button.component';\nimport { InputComponent } from '../../../shared/modules/controls/components/input/input.component';\n\n@Component({\n  selector: 'app-form-fields',\n  templateUrl: './form-fields.component.html',\n  styleUrls: ['./form-fields.component.scss']\n})\nexport class FormFieldsComponent {\n\n  private pickupPositionInElement: Position;\n\n  @ViewChild('mobile')\n  private readonly mobile: ElementRef<HTMLElement>;\n\n  constructor(\n    private readonly complexShapeRendererService: ComplexShapeRendererService,\n    private readonly scopeService: ScopeSharerService\n  ) {\n  }\n\n  public handleInputDrop(event: CdkDragDrop<any>) {\n    const { x, y } = event.dropPoint;\n    const deltaX = x - this.pickupPositionInElement.x;\n    const deltaY = y - this.pickupPositionInElement.y;\n    const position = transform({x: deltaX, y: deltaY})(this.complexShapeRendererService.container);\n\n    const options: ComplexShapeRenderOptions = {\n      x: position.x,\n      y: position.y,\n\n      type: 'input',\n\n      property: {\n        width: 280,\n        height: 48\n      }\n    }\n\n    this.complexShapeRendererService\n      .complexShapeRenderer\n      .appendDynamicComponentToContainer(InputComponent, options);\n  }\n\n  public handleStartedPoint(event: CdkDragStart<any>, isBackground = false): void {\n    // @ts-ignore\n    this.pickupPositionInElement = event.source._dragRef._pickupPositionInElement;\n    if (!isBackground) {\n      this.scopeService.scope.setDefaultScale();\n    }\n  }\n\n}\n","<div class=\"platform\">\n  <app-graphic-component-container class=\"platform-card\" cdkDropList>\n    <app-graphic-component-container-name>\n      Поле ввода\n    </app-graphic-component-container-name>\n\n    <app-graphic-component-container-content class=\"platform-card-content\">\n      <app-input cdkDrag\n                 contenteditable=\"true\"\n                 (cdkDragDropped)=\"handleInputDrop($event)\"\n                 (cdkDragStarted)=\"handleStartedPoint($event)\">Кнопка\n      </app-input>\n    </app-graphic-component-container-content>\n\n    <app-graphic-component-container-description>\n      Кнопки использвуются для основных взаимодействий с пользователями\n    </app-graphic-component-container-description>\n  </app-graphic-component-container>\n\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-graphic-component-container-content',\n  templateUrl: './graphic-component-container-content.component.html',\n  styleUrls: ['./graphic-component-container-content.component.scss']\n})\nexport class GraphicComponentContainerContentComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<ng-content></ng-content>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-graphic-component-container-description',\n  templateUrl: './graphic-component-container-description.component.html',\n  styleUrls: ['./graphic-component-container-description.component.scss']\n})\nexport class GraphicComponentContainerDescriptionComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p class=\"body-m text\">\n  <ng-content></ng-content>\n</p>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-graphic-component-container-name',\n  templateUrl: './graphic-component-container-name.component.html',\n  styleUrls: ['./graphic-component-container-name.component.scss']\n})\nexport class GraphicComponentContainerNameComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<h4 class=\"headline-3\">\n  <ng-content></ng-content>\n</h4>\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-graphic-component-container',\n  templateUrl: './graphic-component-container.component.html',\n  styleUrls: ['./graphic-component-container.component.scss']\n})\nexport class GraphicComponentContainerComponent {\n  constructor() {\n  }\n}\n","<div class=\"container\">\n\n  <div class=\"margin-bottom container-name\">\n    <ng-content select=\"app-graphic-component-container-name\"></ng-content>\n  </div>\n\n  <div class=\"container-content margin-top margin-bottom\">\n    <ng-content select=\"app-graphic-component-container-content\"></ng-content>\n  </div>\n\n  <div class=\"margin-top container-description\">\n    <ng-content select=\"app-graphic-component-container-description\"></ng-content>\n  </div>\n\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-graphic-element-container',\n  templateUrl: './graphic-element-container.component.html',\n  styleUrls: ['./graphic-element-container.component.scss']\n})\nexport class GraphicElementContainerComponent implements OnInit {\n\n  public readonly elementMetaData: NonNullable<GraphicElementMetaData>\n    = defaultGraphicElementMetaDataFactory();\n\n  constructor() { }\n\n  ngOnInit(): void {}\n\n}\n\nexport type GraphicElementMetaData<T = any> = {\n  x: Readonly<number>;\n  y: Readonly<number>;\n  z?: Readonly<number>\n\n  property: {\n    width: Readonly<number>;\n    height: Readonly<number>;\n  }\n}\n\nexport function defaultGraphicElementMetaDataFactory(): GraphicElementMetaData {\n  return {\n    x: 0,\n    y: 0,\n    property: {\n      width: 100,\n      height: 100\n    }\n  }\n}\n","<ng-content></ng-content>\n","import { Component, OnInit } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { globalOptions } from '../../../toolbar/toolbar.component';\n\n@Component({\n  selector: 'app-desktop-platform',\n  templateUrl: './desktop-platform.component.html',\n  styleUrls: ['./desktop-platform.component.scss']\n})\nexport class DesktopPlatformComponent {\n\n  public readonly globalOptions = globalOptions;\n\n}\n","<div class=\"desktop\">\n\n  <ng-container *ngIf=\"globalOptions.bootstrap\">\n    <div class=\"bootstrap\"></div>\n    <div class=\"bootstrap\"></div>\n    <div class=\"bootstrap\"></div>\n    <div class=\"bootstrap\"></div>\n    <div class=\"bootstrap\"></div>\n    <div class=\"bootstrap\"></div>\n    <div class=\"bootstrap\"></div>\n    <div class=\"bootstrap\"></div>\n    <div class=\"bootstrap\"></div>\n    <div class=\"bootstrap\"></div>\n    <div class=\"bootstrap\"></div>\n    <div class=\"bootstrap\"></div>\n    <div class=\"bootstrap\"></div>\n  </ng-container>\n\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-mobile-platform',\n  templateUrl: './mobile-platform.component.html',\n  styleUrls: ['./mobile-platform.component.scss']\n})\nexport class MobilePlatformComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"mobile\"></div>\n","import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { ComplexShapeRendererService } from '../../services/complex-shape-renderer.service';\nimport { CdkDragDrop, CdkDragStart } from '@angular/cdk/drag-drop';\nimport { MobilePlatformComponent } from './components/mobile-platform/mobile-platform.component';\nimport { ComplexShapeRenderOptions } from '../../types/complex-shape-rendere-options.type';\nimport { DesktopPlatformComponent } from './components/desktop-platform/desktop-platform.component';\nimport { ToggleComponent } from '../../../shared/modules/controls/components/toggle/toggle.component';\nimport { transform } from '../../functions/transform.fuction';\nimport { Position } from '../../classes/view-drag.class';\nimport { ButtonComponent } from '../../../shared/modules/buttons/components/button/button.component';\nimport { ScopeSharerService } from '../../services/scope-sharer.service';\nimport { InputComponent } from '../../../shared/modules/controls/components/input/input.component';\n\n@Component({\n  selector: 'app-platform',\n  templateUrl: './platform.component.html',\n  styleUrls: ['./platform.component.scss'],\n})\nexport class PlatformComponent {\n\n  private pickupPositionInElement: Position;\n\n  @ViewChild('mobile')\n  private readonly mobile: ElementRef<HTMLElement>;\n\n  constructor(\n    private readonly complexShapeRendererService: ComplexShapeRendererService,\n    private readonly scopeService: ScopeSharerService\n  ) {\n  }\n\n  public handleMobileDrop(event: CdkDragDrop<any> | any) {\n    const { x, y } = event.dropPoint;\n    const deltaX = x - this.pickupPositionInElement.x;\n    const deltaY = y - this.pickupPositionInElement.y;\n    const position = transform({x: deltaX, y: deltaY})(this.complexShapeRendererService.container);\n\n    const options: ComplexShapeRenderOptions = {\n      x: position.x,\n      y: position.y,\n      type: 'mobile',\n      property: {\n        width: 375,\n        height: 812\n      }\n    }\n\n    this.complexShapeRendererService\n      .complexShapeRenderer\n      .appendDynamicComponentToContainer(MobilePlatformComponent, options);\n  }\n\n  public handleDesktopDrop(event: CdkDragDrop<any>) {\n    const { x, y } = event.dropPoint;\n    const deltaX = x - this.pickupPositionInElement.x;\n    const deltaY = y - this.pickupPositionInElement.y;\n    const position = transform({x: deltaX, y: deltaY})(this.complexShapeRendererService.container);\n\n    const options: ComplexShapeRenderOptions = {\n      x: position.x,\n      y: position.y,\n      type: 'desktop',\n      property: {\n        width: 1440,\n        height: 1024\n      }\n    }\n\n    this.complexShapeRendererService\n      .complexShapeRenderer\n      .appendDynamicComponentToContainer(DesktopPlatformComponent, options);\n  }\n\n  public handleSwitchDrop(event: CdkDragDrop<any>) {\n    const { x, y } = event.dropPoint;\n    const deltaX = x - this.pickupPositionInElement.x;\n    const deltaY = y - this.pickupPositionInElement.y;\n    const position = transform({x: deltaX, y: deltaY})(this.complexShapeRendererService.container);\n\n    const options: ComplexShapeRenderOptions = {\n      x: position.x,\n      y: position.y,\n      type: 'toggle',\n      property: {\n        width: 60,\n        height: 60\n      }\n    }\n\n    this.complexShapeRendererService\n      .complexShapeRenderer\n      .appendDynamicComponentToContainer(ToggleComponent, options);\n  }\n\n  public handleStartedPoint(event: CdkDragStart<any>, isBackground = false): void {\n    // @ts-ignore\n    this.pickupPositionInElement = event.source._dragRef._pickupPositionInElement;\n    if (!isBackground) {\n      this.scopeService.scope.setDefaultScale();\n    }\n  }\n\n  public handleButtonDrop(event: CdkDragDrop<any>) {\n    const { x, y } = event.dropPoint;\n    const deltaX = x - this.pickupPositionInElement.x;\n    const deltaY = y - this.pickupPositionInElement.y;\n    const position = transform({x: deltaX, y: deltaY})(this.complexShapeRendererService.container);\n\n    const options: ComplexShapeRenderOptions = {\n      x: position.x,\n      y: position.y,\n\n      type: 'button',\n\n      property: {\n        width: 120,\n        height: 48\n      }\n    }\n\n    this.complexShapeRendererService\n      .complexShapeRenderer\n      .appendDynamicComponentToContainer(ButtonComponent, options);\n\n  }\n\n  public handleInputDrop(event: CdkDragDrop<any>) {\n    const { x, y } = event.dropPoint;\n    const deltaX = x - this.pickupPositionInElement.x;\n    const deltaY = y - this.pickupPositionInElement.y;\n    const position = transform({x: deltaX, y: deltaY})(this.complexShapeRendererService.container);\n\n    const options: ComplexShapeRenderOptions = {\n      x: position.x,\n      y: position.y,\n\n      type: 'input',\n\n      property: {\n        width: 280,\n        height: 48\n      }\n    }\n\n    this.complexShapeRendererService\n      .complexShapeRenderer\n      .appendDynamicComponentToContainer(InputComponent, options);\n\n  }\n}\n","<div class=\"platform\">\n  <app-graphic-component-container class=\"platform-card\">\n    <app-graphic-component-container-name>\n      Мобильная платформа\n    </app-graphic-component-container-name>\n\n    <app-graphic-component-container-content class=\"platform-card-content\" cdkDropList>\n      <div\n        #mobile\n        class=\"platform_mobile\"\n        cdkDrag\n        (cdkDragDropped)=\"handleMobileDrop($event)\"\n        (cdkDragStarted)=\"handleStartedPoint($event, true)\">\n      </div>\n    </app-graphic-component-container-content>\n\n    <app-graphic-component-container-description>\n      Кнопки использвуются для основных взаимодействий с пользователями\n    </app-graphic-component-container-description>\n  </app-graphic-component-container>\n\n  <app-graphic-component-container class=\"platform-card\" cdkDropList>\n    <app-graphic-component-container-name>\n      Десктопная платформа\n    </app-graphic-component-container-name>\n\n    <app-graphic-component-container-content class=\"platform-card-content\">\n      <div class=\"platform_desktop\"\n           cdkDrag\n           (cdkDragDropped)=\"handleDesktopDrop($event)\"\n           (cdkDragStarted)=\"handleStartedPoint($event, true)\"></div>\n    </app-graphic-component-container-content>\n\n    <app-graphic-component-container-description>\n      Кнопки использвуются для основных взаимодействий с пользователями\n    </app-graphic-component-container-description>\n  </app-graphic-component-container>\n\n\n\n</div>\n","import { Component } from '@angular/core';\nimport { SelectionModel } from '@angular/cdk/collections';\n\n@Component({\n  selector: 'app-sidebar',\n  templateUrl: './sidebar.component.html',\n  styleUrls: ['./sidebar.component.scss']\n})\nexport class SidebarComponent {\n\n  public readonly control = new SelectionModel<string>(false, [ 'Платформа' ]);\n\n  constructor() {\n  }\n\n}\n","<div class=\"container\" cdkScrollable>\n\n  <div class=\"container-text\">\n    <p class=\"container-text-title margin-right\">Компоненты</p>\n    <app-badge>64</app-badge>\n  </div>\n\n  <div class=\"chips-container\">\n    <app-chips-container class=\"chips\" [control]=\"control\">\n      <app-chip class=\"chips-chip\">Платформа</app-chip>\n      <app-chip class=\"chips-chip\">Контролы</app-chip>\n      <app-chip class=\"chips-chip\">Поле ввода</app-chip>\n    </app-chips-container>\n  </div>\n\n  <div class=\"container-content\">\n    <app-platform *ngIf=\"control.selected.includes('Платформа')\"></app-platform>\n    <app-form-fields *ngIf=\"control.selected.includes('Поле ввода')\"></app-form-fields>\n    <app-controls *ngIf=\"control.selected.includes('Контролы')\"></app-controls>\n  </div>\n\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { CursorsService } from '../../services/cursors.service';\n\nexport const globalOptions = {\n  bootstrap: true,\n};\n\n@Component({\n  selector: 'app-toolbar',\n  templateUrl: './toolbar.component.html',\n  styleUrls: ['./toolbar.component.scss']\n})\nexport class ToolbarComponent implements OnInit {\n\n  public readonly globalOptions = globalOptions;\n\n  constructor(public cursorsService: CursorsService,) { }\n\n  ngOnInit(): void {\n  }\n\n  public switchBootstrap() {\n    globalOptions.bootstrap = !globalOptions.bootstrap;\n  }\n\n}\n","<div class=\"toolbar\">\n\n  <button mat-icon-button class=\"margin-bottom icon-button\" color=\"primary\" (click)=\"cursorsService.changeCoopMode()\">\n    <mat-icon class=\"icon\" [ngClass]=\"{'active': cursorsService.isCoop}\">\n      groups\n    </mat-icon>\n  </button>\n\n  <button mat-icon-button class=\"margin-bottom icon-button\" matTooltip=\"Включить сетку\" (click)=\"switchBootstrap()\">\n    <mat-icon class=\"icon\" [ngClass]=\"{'active': globalOptions.bootstrap}\">\n      grid_4x4\n    </mat-icon>\n  </button>\n\n  <button mat-icon-button class=\"margin-bottom icon-button\" matTooltip=\"Включить сетку\">\n    <mat-icon class=\"icon\">\n      chat_bubble\n    </mat-icon>\n  </button>\n</div>\n","import { ComplexShapeRenderOptions } from '../types/complex-shape-rendere-options.type';\n\nexport function defaultComplexShapeRenderingOptionsFactory(): ComplexShapeRenderOptions {\n  return {\n    x: 560,\n    y: 340,\n    property: {\n      width: 60,\n      height: 60\n    }\n  }\n}\n","import { GraphicElementProperties } from '../types/graphic-element-properties.type';\n\nexport function defaultGraphicComponentsPropertiesFactory(): GraphicElementProperties {\n  return { width: 100, height: 100 };\n}\n","import { Position } from '../classes/view-drag.class';\n\nexport function transform(\n  target: Position\n): (container: NonNullable<SVGSVGElement>) => Readonly<Position> {\n  const { x, y } = target;\n\n  return (container: NonNullable<SVGSVGElement>): Readonly<Position> => {\n    const element: SVGPoint = container.createSVGPoint();\n\n    element.x = x;\n    element.y = y;\n\n    return element.matrixTransform(\n      // @ts-ignore\n      container.getScreenCTM().inverse()\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { BoardComponent } from './components/board/board.component';\nimport { ControlsModule } from '../shared/modules/controls/controls.module';\nimport { GraphicElementContainerComponent } from './components/graphic-element-container/graphic-element-container.component';\nimport { CursorComponent } from './components/cursor/cursor.component';\nimport { ButtonsModule } from '../shared/modules/buttons/buttons.module';\nimport { ScrollableChipsModule } from '../shared/modules/scrollable-chips/scrollable-chips.module';\nimport { SharedModule } from '../shared/shared.module';\nimport { GraphicComponentContainerContentComponent } from './components/graphic-component-container-content/graphic-component-container-content.component';\nimport { GraphicComponentContainerDescriptionComponent } from './components/graphic-component-container-description/graphic-component-container-description.component';\nimport { GraphicComponentContainerNameComponent } from './components/graphic-component-container-name/graphic-component-container-name.component';\nimport { GraphicComponentContainerComponent } from './components/graphic-component-container/graphic-component-container.component';\nimport { PlatformComponent } from './components/platform/platform.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { DragDropModule } from '@angular/cdk/drag-drop';\nimport { MobilePlatformComponent } from './components/platform/components/mobile-platform/mobile-platform.component';\nimport { DesktopPlatformComponent } from './components/platform/components/desktop-platform/desktop-platform.component';\nimport { ToolbarComponent } from './components/toolbar/toolbar.component';\nimport { SidebarComponent } from './components/sidebar/sidebar.component';\nimport { ChipsModule } from '../shared/modules/chips/chips.module';\nimport { FormFieldsComponent } from './components/form-fields/form-fields.component';\nimport { ControlsComponent } from './components/controls/controls.component';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatRippleModule } from '@angular/material/core';\nimport { HttpClientModule } from '@angular/common/http';\n\n\n@NgModule({\n  declarations: [\n    BoardComponent,\n    GraphicElementContainerComponent,\n    GraphicComponentContainerContentComponent,\n    GraphicComponentContainerDescriptionComponent,\n    GraphicComponentContainerNameComponent,\n    CursorComponent,\n    SidebarComponent,\n    GraphicComponentContainerComponent,\n    PlatformComponent,\n    MobilePlatformComponent,\n    DesktopPlatformComponent,\n    ToolbarComponent,\n    FormFieldsComponent,\n    ControlsComponent,\n  ],\n  imports: [\n    CommonModule,\n    ControlsModule,\n    ButtonsModule,\n    SharedModule,\n    ReactiveFormsModule,\n    FormsModule,\n    DragDropModule,\n    ChipsModule,\n    MatButtonModule,\n    MatIconModule,\n    MatTooltipModule,\n    HttpClientModule,\n    MatRippleModule\n  ],\n  bootstrap: [BoardComponent]\n})\nexport class GraphicsModule {\n}\n","import { ComponentFactoryResolver, Injectable, ViewContainerRef } from '@angular/core';\nimport { DynamicComponentsFactory } from '../classes/dynamic-components-factory.class';\nimport { ComplexShapeRenderer } from '../classes/complex-shape-renderer.class';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ComplexShapeRendererService {\n\n  public container: SVGSVGElement;\n\n  public complexShapeRenderer: ComplexShapeRenderer;\n  private dynamicComponentFactory!: DynamicComponentsFactory;\n\n  constructor(private readonly componentFactoryResolver: ComponentFactoryResolver) {}\n\n  public buildComponentFactory(container: ViewContainerRef): ComplexShapeRendererService {\n    this.dynamicComponentFactory = new DynamicComponentsFactory(this.componentFactoryResolver, container);\n    return this;\n  }\n\n  public buildShapeRenderer(container: SVGSVGElement) {\n    this.container = container;\n    this.complexShapeRenderer = new ComplexShapeRenderer(container, this.dynamicComponentFactory);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ComplexShapeRenderOptions } from '../types/complex-shape-rendere-options.type';\nimport { ToggleComponent } from '../../shared/modules/controls/components/toggle/toggle.component';\nimport { defaultComplexShapeRenderingOptionsFactory } from '../functions/default-complex-shape-render-options.factory';\nimport { DesktopPlatformComponent } from '../components/platform/components/desktop-platform/desktop-platform.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ComponentsDataService {\n\n  public readonly containers: ComponentContainer[] = [\n    {\n      component: 'desktop',\n      options: { ...defaultComplexShapeRenderingOptionsFactory(), type: 'desktop' }\n    },\n    {\n      component: 'toggle',\n      options: { ...defaultComplexShapeRenderingOptionsFactory(), type: 'toggle' }\n    },\n  ]\n\n  constructor() { }\n}\n\n\nexport type ComponentContainer = Readonly<{\n  component?: string;\n  html?: HTMLElement;\n  options: ComplexShapeRenderOptions\n}>\n\nexport interface Dictionary<T> {\n  [p: string]: T\n}\n","import { DOCUMENT } from '@angular/common';\nimport { Inject, Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { fromEvent, ReplaySubject, SubscriptionLike } from 'rxjs';\nimport { filter, map, throttleTime } from 'rxjs/operators';\nimport { EVENT } from '../../shared/modules/websocket/events';\nimport { WebsocketService } from '../../shared/modules/websocket/websocket.service';\nimport { AuthService } from '../../shared/services/auth.service';\nimport { ComplexShapeRendererService } from './complex-shape-renderer.service';\n\nexport interface Cursor {\n  name: string,\n  x: number,\n  y: number\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CursorsService {\n\n  private subOn: SubscriptionLike;\n  private subSend: SubscriptionLike;\n  private _cursors: Map<string, ReplaySubject<Cursor>> = new Map();\n  private cursorOwners: ReplaySubject<string[]> = new ReplaySubject(1);\n  private _cursorOwners: string[] = [];  \n\n  public isCoop: boolean = true;\n\n  constructor(\n    @Inject(DOCUMENT) private document,\n    private ws: WebsocketService,\n    private authService: AuthService,\n    private complexShapeRenderer: ComplexShapeRendererService\n  ) {\n  }\n\n  connect(svgContainer: SVGSVGElement): void {\n    const mousePoint = svgContainer.createSVGPoint();\n\n    this.subOn = this.ws.on<Cursor>(EVENT.cursor).pipe(\n      filter(cursor => cursor.name !== this.authService.name)\n    ).subscribe(cursor => {\n      if (cursor.name.trim()) {\n        if (this._cursorOwners.includes(cursor.name) && this._cursors.has(cursor.name)) {\n          this._cursors.get(cursor.name).next(cursor);\n        } else {\n          const subj = new ReplaySubject<Cursor>(1);\n          subj.next(cursor);\n          this._cursors.set(cursor.name, subj);\n          this._cursorOwners.push(cursor.name);\n          this.cursorOwners.next(this._cursorOwners);\n        }\n      }\n    });\n\n    this.subSend = fromEvent<MouseEvent>(this.document, 'mousemove').pipe(\n      filter(_ => this.ws.connected),\n      throttleTime(33),\n      map(event => {\n        mousePoint.x = event.clientX;\n        mousePoint.y = event.clientY;\n        return mousePoint.matrixTransform(svgContainer.getScreenCTM().inverse())\n      })\n    ).subscribe(event => {\n      this.ws.send(EVENT.cursor, {x: event.x, y: event.y, name: this.authService.name});\n      this.ws.send(EVENT.cursor, {x: event.x + 100, y: event.y + 100, name: 'Billy'});\n    });\n  }\n\n  get status(): boolean {\n    return this.ws.connected;\n  }\n\n  disconnect(): void {\n    if (this.subOn) {\n      this.subOn.unsubscribe();\n    }\n    if (this.subSend) {\n      this.subSend.unsubscribe();\n    }\n    this.ws.disconnect();\n    this._cursorOwners = [];\n    this.cursorOwners.next(this._cursorOwners);\n  }\n\n  getCursorByName(name: string): ReplaySubject<Cursor> {\n    return this._cursors.get(name);\n  }\n\n  get cursorOwners$(): Observable<string[]> {\n    return this.cursorOwners.asObservable();\n  }\n\n  changeCoopMode(): void {\n    this.isCoop = !this.isCoop;\n    if (!this.isCoop) {\n      this.disconnect();\n    } else {\n      this.ws.createConnection();\n      this.connect(this.complexShapeRenderer.container);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { ComponentContainer } from './components-data.service';\nimport safeStringify from 'fast-safe-stringify';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LocalStorageService {\n\n  constructor() {\n  }\n\n  public save(data: ComponentContainer[]) {\n    localStorage.setItem('components', safeStringify(data));\n  }\n\n  public getData(): ComponentContainer[] {\n    return JSON.parse(localStorage.getItem('components'));\n  }\n\n}\n","import { Inject, Injectable } from \"@angular/core\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { Observable } from \"rxjs\";\nimport { debounceTime } from \"rxjs/operators\";\nimport { Scope } from \"../classes/view-scope.class\";\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ScopeSharerService {\n  private _scope: Readonly<Scope>;\n\n  constructor(\n    private readonly router: Router,\n    private readonly activatedRoute: ActivatedRoute\n  ) {}\n\n  setScope(scope: Readonly<Scope>): void {\n    this._scope = scope;\n    this.setScopeParams(this._scope);\n  }\n\n  get scope(): Readonly<Scope> {\n    return this._scope;\n  }\n\n  private setScopeParams(scope: Readonly<Scope>): void {\n    this._scope.scope$.pipe(\n      debounceTime(1000)\n    ).subscribe(viewBox => {\n      this.router.navigate(\n        [],\n        {\n          relativeTo: this.activatedRoute,\n          queryParams: {\n            viewBox: viewBox\n          },\n          queryParamsHandling: 'merge'\n        }\n      );\n      \n    });\n  }\n\n  public getScopeParams(): string {\n    return this.activatedRoute.snapshot.queryParamMap.get('viewBox') || '';\n  }\n}","import { Injectable } from '@angular/core';\nimport { ComponentContainer } from './components-data.service';\nimport { interval } from 'rxjs';\nimport { tap } from 'rxjs/operators';\nimport { LocalStorageService } from './local-storage.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SnapshotObserverService {\n\n  private container: SVGSVGElement;\n  public components: ComponentContainer[];\n\n  constructor(private readonly local: LocalStorageService) {\n  }\n\n  public build(container: SVGSVGElement) {\n    this.container = container;\n  }\n\n  public processInfinityObserve() {\n    interval(500)\n      .pipe(\n        tap(_ => this.snapshot())\n      )\n      .subscribe(() => {\n        this.local.save(this.components);\n      })\n  }\n\n  public snapshot() {\n    const components = []\n    const targets = this.container.querySelectorAll('.ui-element-container');\n\n    targets.forEach((value, _) => {\n\n      const component: ComponentContainer = {\n        component: value.getAttribute('type'),\n        options: {\n\n          x: +value.getAttribute('x'),\n          y: +value.getAttribute('y'),\n          type: value.getAttribute('type'),\n\n          property: {\n            width: +value.getAttribute('width'),\n            height: +value.getAttribute('height'),\n          }\n        }\n      }\n\n      components.push(component);\n    });\n\n    this.components = components;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-project',\n  templateUrl: './project.component.html',\n  styleUrls: ['./project.component.scss']\n})\nexport class ProjectComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>project works!</p>\n","import { Component, OnInit } from '@angular/core';\nimport { ComponentContainer } from '../../../graphics/services/components-data.service';\nimport { ProjectHttpService } from '../../../shared/services/project-http.service';\nimport { BehaviorSubject, Observable, of } from 'rxjs';\n\nexport interface Project {\n  id: string;\n  name: string;\n  Canvas: ComponentContainer[];\n}\n\n@Component({\n  selector: 'app-projects',\n  templateUrl: './projects.component.html',\n  styleUrls: ['./projects.component.scss']\n})\nexport class ProjectsComponent implements OnInit {\n\n  public projects$: Observable<Project[]> = new BehaviorSubject<Project[]>([{\n    name: 'Умный дом',\n    id: '12',\n    Canvas: []\n  }]).asObservable();\n\n  // public projects$: Observable<Project[]> = this.http.getAllProject();\n\n  constructor(private readonly http: ProjectHttpService ) {\n    // this.http.createProject('Умный дом')\n  }\n\n  ngOnInit(): void {\n  }\n\n\n}\n","<div class=\"projects\">\n\n  <div class=\"projects-container\">\n    <h3 class=\"headline-3\">Проекты</h3>\n\n    <div class=\"list-container\">\n\n      <div class=\"list-item\" *ngFor=\"let project of (projects$ | async)\">\n        {{ project.name }}\n      </div>\n\n    </div>\n  </div>\n\n\n\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ProjectComponent } from './components/project/project.component';\nimport { ProjectsComponent } from './components/projects/projects.component';\n\n\n\n@NgModule({\n  declarations: [\n    ProjectComponent,\n    ProjectsComponent\n  ],\n  imports: [\n    CommonModule\n  ],\n  bootstrap: [ProjectsComponent]\n})\nexport class ProjectsModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-badge',\n  templateUrl: './badge.component.html',\n  styleUrls: ['./badge.component.scss']\n})\nexport class BadgeComponent {\n}\n","<div class=\"badge\">\n  <ng-content></ng-content>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ButtonDirective } from './directives/button.directive';\nimport { ButtonComponent } from './components/button/button.component';\nimport { MatRippleModule } from '@angular/material/core';\n\n\n\n@NgModule({\n  declarations: [\n    ButtonDirective,\n    ButtonComponent\n  ],\n    exports: [\n        ButtonDirective,\n        ButtonComponent\n    ],\n    imports: [\n        CommonModule,\n        MatRippleModule\n    ]\n})\nexport class ButtonsModule { }\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-button',\n  templateUrl: './button.component.html',\n  styleUrls: ['./button.component.scss']\n})\nexport class ButtonComponent {\n}\n","<button appButton contenteditable=\"true\">\n  Кнопка\n</button>\n","import { Directive, ElementRef, Input, OnInit, Renderer2 } from '@angular/core';\n\n@Directive({\n  selector: '[appButton]'\n})\nexport class ButtonDirective implements OnInit {\n\n  @Input()\n  public fill: Readonly<'solid' | 'outline'> = 'solid';\n\n  constructor(private readonly host: ElementRef<HTMLButtonElement>,\n    private readonly renderer: Renderer2) {\n  }\n\n  public ngOnInit() {\n    this.initializeHostClasses();\n  }\n\n  private initializeHostClasses() {\n    this.renderer.addClass(this.host.nativeElement, 'button');\n    this.renderer.addClass(this.host.nativeElement, `button_${this.fill}`);\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ChipComponent } from './components/chip/chip.component';\nimport { ChipsContainerComponent } from './components/chips-container/chips-container.component';\n\n@NgModule({\n    declarations: [\n        ChipComponent,\n        ChipsContainerComponent\n    ],\n  exports: [\n    ChipsContainerComponent,\n    ChipComponent\n  ],\n    imports: [\n        CommonModule\n    ]\n})\nexport class ChipsModule {\n}\n","import { AfterViewInit, Component, ElementRef, Input, ViewChild } from '@angular/core';\nimport { SelectionModel } from '@angular/cdk/collections';\nimport { runTask } from '../chips-container/chips-container.component';\n\n@Component({\n  selector: 'app-chip',\n  templateUrl: './chip.component.html',\n  styleUrls: ['./chip.component.scss']\n})\nexport class ChipComponent implements AfterViewInit {\n\n  @Input()\n  public control: SelectionModel<string> = new SelectionModel<string>();\n  public content: NonNullable<Readonly<string>>;\n\n  @ViewChild('chip')\n  private readonly chip: ElementRef<HTMLDivElement>;\n\n  public toggle = () => this.control.toggle(this.content);\n\n  public ngAfterViewInit() {\n    this.content = this.chip.nativeElement.textContent ?? '';\n  }\n\n}\n","<div class=\"chip\"\n     (click)=\"toggle()\"\n     [class.chip_active]=\"control?.selected.includes(content)\"\n     #chip>\n  <ng-content></ng-content>\n</div>\n","import { AfterViewInit, Component, ContentChildren, ElementRef, Input, QueryList, ViewChild } from '@angular/core';\nimport { fromEvent } from 'rxjs';\nimport { takeUntil, tap } from 'rxjs/operators';\nimport { ChipComponent } from '../chip/chip.component';\nimport { SelectionModel } from '@angular/cdk/collections';\n\n@Component({\n  selector: 'app-chips-container',\n  templateUrl: './chips-container.component.html',\n  styleUrls: ['./chips-container.component.scss']\n})\nexport class ChipsContainerComponent<T> implements AfterViewInit {\n  @ViewChild('container')\n  public readonly container: ElementRef;\n\n  @Input()\n  public control: SelectionModel<string>;\n\n  public previousScrollPosition = 0;\n  public isMouseMoved = false;\n  public readonly mouseUp = fromEvent(document, 'mouseup')\n    .pipe(\n      tap(() =>\n        this.isMouseMoved = false\n      )\n    );\n\n  @ContentChildren(ChipComponent)\n  public readonly chips: QueryList<ChipComponent>;\n\n  public ngAfterViewInit() {\n    this.chips.forEach(chip => {\n      runTask(() => chip.control = this.control);\n    });\n  }\n\n  public handleMouseDown(event: MouseEvent): void {\n    this.previousScrollPosition = event.screenX;\n    this.isMouseMoved = false;\n    this.listenMouseMove();\n  }\n\n\n  public listenMouseMove(): void {\n    fromEvent(document, 'mousemove')\n      .pipe(takeUntil(this.mouseUp))\n      .subscribe((event: MouseEvent) => {\n        this.isMouseMoved = true;\n        this.container.nativeElement.scrollLeft -= event.screenX - this.previousScrollPosition;\n        this.previousScrollPosition = event.screenX;\n      });\n  }\n\n}\n\nexport function runTask(task: (...args: any[]) => void) {\n  setTimeout(task, 0);\n}\n","<div class=\"scrollable-chips\" (mousedown)=\"handleMouseDown($event)\" #container>\n\n    <ng-content select=\"app-chip\"></ng-content>\n\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-checkbox',\n  templateUrl: './checkbox.component.html',\n  styleUrls: ['./checkbox.component.scss']\n})\nexport class CheckboxComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>checkbox works!</p>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-chips',\n  templateUrl: './chips.component.html',\n  styleUrls: ['./chips.component.scss']\n})\nexport class ChipsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>chips works!</p>\n","import { Component, OnInit } from '@angular/core';\nimport { ControlValueAccessor } from '@angular/forms';\n\n@Component({\n  selector: 'app-input',\n  templateUrl: './input.component.html',\n  styleUrls: ['./input.component.scss']\n})\nexport class InputComponent implements OnInit, ControlValueAccessor {\n\n  onChange: (value: any) => any;\n  onTouched: () => any;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  writeValue(obj: any): void {\n  }\n\n}\n","<div class=\"input\">\n  <input class=\"input__content\" type=\"text\" name=\"input\" id=\"input\" required>\n  <label class=\"input__label\" for=\"input\">Логин</label>\n</div>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-slider',\n  templateUrl: './slider.component.html',\n  styleUrls: ['./slider.component.scss']\n})\nexport class SliderComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<p>slider works!</p>\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-toggle',\n  templateUrl: './toggle.component.html',\n  styleUrls: ['./toggle.component.scss']\n})\nexport class ToggleComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<label class=\"switch\">\n  <input type=\"checkbox\" checked=\"checked\">\n  <span class=\"control\"></span>\n</label>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ToggleComponent } from './components/toggle/toggle.component';\nimport { SliderComponent } from './components/slider/slider.component';\nimport { CheckboxComponent } from './components/checkbox/checkbox.component';\nimport { ChipsComponent } from './components/chips/chips.component';\nimport { InputComponent } from './components/input/input.component';\n\n\n\n@NgModule({\n    declarations: [\n        ToggleComponent,\n        SliderComponent,\n        CheckboxComponent,\n        ChipsComponent,\n        InputComponent\n    ],\n    exports: [\n        ToggleComponent,\n        InputComponent\n    ],\n    imports: [\n        CommonModule\n    ]\n})\nexport class ControlsModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { ComplexShapeRendererService } from 'src/app/graphics/services/complex-shape-renderer.service';\nimport { CursorsService } from 'src/app/graphics/services/cursors.service';\n\n@Component({\n  selector: 'app-header-content',\n  templateUrl: './header-content.component.html',\n  styleUrls: ['./header-content.component.scss']\n})\nexport class HeaderContentComponent implements OnInit {\n\n  constructor(\n    public cursorsService: CursorsService,\n  ) { }\n\n  ngOnInit(): void {\n  }\n}\n","<img src=\"assets/images/logo.png\">\n\n<p class=\"headline-3 content\">\n  <!--  <ng-content></ng-content>-->\n</p>\n\n<!--<div class=\"tools\">-->\n<!--  <div class=\"coop\" (click)=\"cursorsService.changeCoopMode()\">-->\n<!--    <mat-icon class=\"coop__img\" [ngClass]=\"{'coop__active': cursorsService.isCoop}\">groups</mat-icon>-->\n<!--  </div>-->\n\n<!--  <button mat-icon-button class=\"margin-left\">-->\n<!--    <mat-icon class=\"coop__img\">grid_4x4</mat-icon>-->\n<!--  </button>-->\n\n<!--</div>-->\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n})\nexport class HeaderComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n}\n","<div class=\"header\">\n\n  <ng-content select=\"app-header-content\"></ng-content>\n\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HeaderComponent } from './components/header/header.component';\nimport { HeaderContentComponent } from './components/header-content/header-content.component';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatButtonModule } from '@angular/material/button';\n\n\n\n@NgModule({\n  declarations: [\n    HeaderComponent,\n    HeaderContentComponent\n  ],\n  exports: [\n    HeaderComponent,\n    HeaderContentComponent\n  ],\n    imports: [\n        CommonModule,\n        MatIconModule,\n        MatButtonModule\n    ]\n})\nexport class HeaderModule { }\n","import { InjectionToken } from \"@angular/core\";\n\nexport const config: InjectionToken<string> = new InjectionToken('websocket');\n","export enum EVENT {\n  'cursor' = 'cursor'\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ModuleWithProviders } from '@angular/compiler/src/core';\nimport { WebsocketService } from './websocket.service';\nimport { WebSocketConfig } from './interfaces';\nimport { config } from './config';\n\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule\n  ],\n  providers: [\n    WebsocketService\n  ]\n})\nexport class WebsocketModule {\n  public static config(wsConfig: WebSocketConfig): ModuleWithProviders {\n      return {\n          ngModule: WebsocketModule,\n          providers: [{ provide: config, useValue: wsConfig }]\n      };\n  }\n}\n","import { Injectable, OnDestroy, Inject } from '@angular/core';\nimport { Observable, SubscriptionLike, Subject, Observer, interval, ReplaySubject } from 'rxjs';\nimport { filter, map, takeUntil } from 'rxjs/operators';\nimport { WebSocketSubject, WebSocketSubjectConfig } from 'rxjs/webSocket';\n\nimport { share, distinctUntilChanged, takeWhile } from 'rxjs/operators';\nimport { IWebsocketService, IWsMessage, WebSocketConfig } from './interfaces';\nimport { config } from './config';\n\n\n@Injectable({\n  'providedIn': 'root'\n})\nexport class WebsocketService implements IWebsocketService, OnDestroy {\n\n    private config: WebSocketSubjectConfig<IWsMessage<any>>;\n\n    private websocketSub: SubscriptionLike;\n    private statusSub: SubscriptionLike;\n\n    private reconnection$: Observable<number>;\n    private websocket$: WebSocketSubject<IWsMessage<any>>;\n    private connection$: Observer<boolean>;\n    private wsMessages$: Subject<IWsMessage<any>>;\n\n    private reconnectInterval: number;\n    private reconnectAttempts: number;\n    private isConnected: boolean;\n\n    private disconnect$ = new ReplaySubject<void>(1);\n\n    public status: Observable<boolean>;\n\n    constructor(\n      @Inject(config) private wsConfig: WebSocketConfig\n    ) {\n        this.createConnection();\n    }\n\n    createConnection(): void {\n        this.wsMessages$ = new Subject<IWsMessage<any>>();\n      \n        this.reconnectInterval = this.wsConfig.reconnectInterval || 5000; // pause between connections\n        this.reconnectAttempts = this.wsConfig.reconnectAttempts || 10; // number of connection attempts\n        \n        this.config = {\n            url: this.wsConfig.url,\n            closeObserver: {\n                next: (event: CloseEvent) => {\n                    this.websocket$ = null;\n                    this.connection$.next(false);\n                }\n            },\n            openObserver: {\n                next: (event: Event) => {\n                    console.log('WebSocket connected!');\n                    this.connection$.next(true);\n                }\n            }\n        };\n        \n        // connection status\n        this.status = new Observable<boolean>((observer) => {\n            this.connection$ = observer;\n        }).pipe(share(), distinctUntilChanged());\n        \n        // run reconnect if not connection\n        this.statusSub = this.status\n            .subscribe((isConnected) => {\n                this.isConnected = isConnected;\n        \n                if (!this.reconnection$ && typeof(isConnected) === 'boolean' && !isConnected) {\n                    this.reconnect();\n                }\n            });\n        \n        this.websocketSub = this.wsMessages$.subscribe(\n            null, (error: ErrorEvent) => console.error('WebSocket error!', error)\n        );\n        \n        this.connect();\n    }\n\n    ngOnDestroy() {\n        this.websocketSub.unsubscribe();\n        this.statusSub.unsubscribe();\n    }\n\n\n    /*\n    * connect to WebSocked\n    * */\n    public connect(): void {\n        this.websocket$ = new WebSocketSubject(this.config);\n        \n        this.websocket$.subscribe(\n            (message) => this.wsMessages$.next(message),\n            (error: Event) => {\n                console.error('Connection error!', error);\n                if (!this.websocket$) {\n                    // run reconnect if errors\n                    this.reconnect();\n                }\n            });\n    }\n\n\n    /*\n    * reconnect if not connecting or errors\n    * */\n    private reconnect(): void {\n        this.reconnection$ = interval(this.reconnectInterval)\n            .pipe(\n                takeWhile((v, index) => index < this.reconnectAttempts && !this.websocket$),\n                takeUntil(this.disconnect$)\n            );\n        \n        this.reconnection$.subscribe(\n            () => this.connect(),\n            null,\n            () => {\n                // Subject complete if reconnect attemts ending\n                this.reconnection$ = null;\n        \n                if (!this.websocket$) {\n                    this.wsMessages$.complete();\n                    this.connection$.complete();\n                }\n            });\n    }\n\n    public disconnect(): void {\n        this.disconnect$.next();\n    }\n\n\n    /*\n    * on message event\n    * */\n    public on<T>(event: string): Observable<T> {\n        if (event) {\n            return this.wsMessages$.pipe(\n                filter((message: IWsMessage<T>) => message.event === event),\n                map((message: IWsMessage<T>) => message.data)\n            );\n        } else {\n          throw new Error('Event doesn\\'t exist');\n        }\n    }\n\n\n    /*\n    * on message to server\n    * */\n    public send(event: string, data: any = {}): void {\n        if (event && this.isConnected) {\n            this.websocket$.next({ event, data });\n        } else {\n            console.error('Send error!');\n        }\n    }\n\n    get connected(): boolean {\n        return this.isConnected;\n    }\n\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  private _name: string = 'Anonymus';\n\n  constructor() {\n    this._name += Date.now();\n  }\n\n  get name(): string {\n    return this._name;\n  }\n\n  set name(name: string) {\n    this._name = name;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { Project } from '../../projects/components/projects/projects.component';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProjectHttpService {\n\n  public readonly api = 'api/projects/'\n\n  constructor(private readonly http: HttpClient) { }\n\n  public getAllProject(): Observable<Project[]> {\n    return this.http.get<Project[]>(this.api);\n  }\n\n  public createProject(name: string): Observable<Project> {\n    return this.http.post<Project>(this.api, { name, canvas: [] });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HeaderModule } from './modules/header/header.module';\nimport { BadgeComponent } from './components/badge/badge.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    HeaderModule,\n  ],\n  exports: [\n    BadgeComponent,\n  ],\n  declarations: [\n    BadgeComponent,\n  ]\n})\nexport class SharedModule {\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  ws: 'ws://localhost:8999/',\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}